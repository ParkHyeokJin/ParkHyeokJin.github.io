---
layout: post
title: 아파치 카프카 시작하기~chap1
date:   2022-03-30 10:10:00
categories: DevOps
category : DevOps
comments: true 
---

# 아파치 카프카란?

아파치 카프카는 소셜 네트워크 사이트인 링크드인에서 문제점을 해결하기 위해 탄생 했습니다. 링크드인은 서비스에 필요한    
단방향 통신을 위한 어플리케이션들을 만들기 시작했고 어플리케이션 수가 작을 때는 문제없이 운영 되엇으나 시스템이 커지고  
복잡해지기 시작하면서 문제가 발생 되기 시작 했습니다.  

![링크드인 레거시 시스템](=업무폴더=/source/ParkHyeokJin.github.io/_drafts/img.pngsource/ParkHyeokJin.github.io/_drafts/img.png)

어플리케이션들이 복잡해지다 보니 하나의 장애에 많은 서비스에 영향을 끼치에 되고 소스코드 및 버전관리에도 문제가 발생 되기 시작하여  
이러한 문제점을 해결하기 위해 개발을 하게 되었으며 그과정에서 탄생 된것이 아파치 카프카 입니다.  

![아파치카프카](=업무폴더=/source/ParkHyeokJin.github.io/_drafts/img_1.pngurce/ParkHyeokJin.github.io/_drafts/img_1.png)

어플리케이션 끼리 연결되어 데이터를 처리하는 방식이 아니라 프로듀서와 컨슈머를 분리하고 데이터를 중앙 집중화 하여 한곳에서 관리 할 수 있도록
하였으며 아파치 카프카를 중심으로 데이터를 생산하는 프로듀서와 데이터를 소모하는 컨슈머 간에 의존성을 최소화 하여 커플링을 완화 하게 되었습니다.
이 과정에서 컨슈머에 장애가 발생 하여도 카프카에 메시지가 관리 되고 있기 때문에 프로듀서까지 장애로 연결 되지 않는 구조를 만들 수 잇었습니다.  

### 카프카의 장점

- 높은 전달 보증. 카프카는 받은 데이터를 디스크에 저장 하는 방식을 사용 하고 있어 어떠한 시스템의 중단점이 발생 되더라도  
받은 데이터는 디스크에 저장이 되어있기 때문에 장애 조치 후 재처리 할 수 있습니다.
  
- 확장성. 카프카는 처리량에 따라서 클러스터를 유연하게 확장 할 수 있습니다. 처리량이 작을때는 최소한으로 운영 하다가  
높은 처리량이 필요한 경우에는 클러스터의 브로커 개수를 늘려서 처리 할 수 있으며 운영중에서도 무중단으로 처리가 가능 합니다.
  
- 고성능. 카프카의 성능 측정 지표상 100k+/s 의 처리를 보장하며 메시지 전달 방식에서도 컨슈머에게 데이터를 전달 할때  
묶어서 전송 하기 때문에 네트워크의 절약도 보장할 수 있습니다.
  
### 학습 목표

현재 메시징 시스템을 개발/운영 하고 있어 아파치 카프카 POC 를 통하여 분석을 진행 하여 메시지 전달 시스템의 프로토타입을 개발 하였지만  
운영 서비스 까지 적용 하지는 못하였습니다. 

현재 구성 중인 시스템의 처리량 및 관리상 UI 의 편리성으로 인해 RabbitMQ 를 사용하여 구축 하게 되어서 





---






